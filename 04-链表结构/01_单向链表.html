<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>单向链表</title>
	</head>
	<body>
		<script type="text/javascript">
			//封装链表类
			function LinkedList() {
				//内部类：节点类
				function Node(data) {
					this.data = data;
					this.next = null;
				}
				
				
				//属性
				this.head = null;
				this.length = 0;
				
				//1.追加方法
				LinkedList.prototype.append = function (data) {
					//1.创建新的节点
					var newNode = new Node(data);
					
					//2.判断是否添加的是第一个节点
					if (this.length === 0) { //2.1 是第一个节点
						this.head = newNode;
					} else { //2.2不是第一个节点
						//找到最后一个节点
						var current = this.head;
						while (current.next){
							current = current.next;
						}
						//最后节点的next指向新的节点
						current.next = newNode;
					}
					
					//3.length+1
					this.length += 1;
				}
				
				//2.toString方法
				LinkedList.prototype.toString = function() {
					//1.定义变量
					var current = this.head;
					var listString = "";
					
					//2.循环获取一个个的节点
					while (current){
						listString += current.data + " ";
						current = current.next;
					}
					return listString;
				}
				
				//3.insert 方法
				LinkedList.prototype.insert = function(position, data) {
					//1.对position进行越界判断
					if (position < 0 || position > this.length)  return false;
					
					//2.根据data创建newNode
					var newNode = new Node(data);
					
					//3.判断插入的位置是不是第一个
					if (position===0) {
						newNode.next = this.head;
						this.head = newNode;
					} else {
						var index = 0;
						var current = this.head;
						var previous = null;
						while (index++ < position){
							previous = current;
							current = current.next;
						}
						newNode.next = current;
						previous.next = newNode;
					}
					//4.length+1
					this.length += 1;
					return true;
				}
				
				//4.get方法
				LinkedList.prototype.get = function(position) {
					if (position < 0 || position >= this.length) return null;
					
					//2.获取对应的数据
					var current = this.head;
					var index = 0;
					while (index++ < position){
						current = current.next;
					}
					return current.data;
				}
				
				//5.indexOf方法
				LinkedList.prototype.indexOf = function(data) {
					//1.定义变量
					var current = this.head;
					var index = 0;
					
					//2.开始查找
					while (current){
						if (current.data === data) {
							return index;
						}
						index += 1;
						current = current.next;
					}
					
					//3.找到最后没有找到， 返回-1
					return -1;
					
				}
				
				
				
				
			}
			
			//测试代码
			//1.创建LinkedList
			var list = new LinkedList();
			
			//2.测试append方法
			list.append("abc");
			list.append("cba");
			list.append("nba");
			// console.log(list);
			
			//3.测试insert方法
			list.insert(0, "aaa");
			list.insert(3, "bbb");
			list.insert(5, "ccc");
			// console.log(list);
			
			//4.测试get方法
			// console.log(list.get(0));
			// console.log(list.get(3));
			// console.log(list.get(5));
			
			//5.测试indexOf方法
			console.log(list.indexOf("abc"));
			console.log(list.indexOf("bbb"));
			console.log(list.indexOf("ccc"));
			
			
			
		</script>
	</body>
</html>
